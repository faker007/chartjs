<html>
  <head>
    <title>chartjs example</title>
  </head>
  <body>
    <div>
      <canvas id="myChart"></canvas>
    </div>

    <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.4/moment.min.js"></script>
    <script src="https://cdn.jsdelivr.net/npm/chartjs-adapter-moment"></script>

    <script>
      const ctx = document.getElementById("myChart");

      const data = {
        datasets: [
          {
            type: "scatter",
            data: [
              { x: moment("2020-01-01"), y: 1100000000 },
              { x: moment("2020-02-01"), y: 970000000 },
              { x: moment("2020-03-01"), y: 1100000000 },
              { x: moment("2020-04-01"), y: 1100000000 },
              { x: moment("2020-05-01"), y: 1180000000 },
              { x: moment("2020-06-01"), y: 1120000000 },
              { x: moment("2020-07-01"), y: 1250000000 },
              { x: moment("2020-08-01"), y: 1300000000 },
              { x: moment("2020-09-01"), y: 1285000000 },
              { x: moment("2020-10-01"), y: 1230000000 },
              { x: moment("2020-11-01"), y: 1570000000 },
              { x: moment("2020-12-01"), y: 1470000000 },
              { x: moment("2021-01-01"), y: 980000000 },
              { x: moment("2021-02-01"), y: 800000000 },
              { x: moment("2021-03-01"), y: 900000000 },
              { x: moment("2021-04-01"), y: 900000000 },
              { x: moment("2021-05-01"), y: 880000000 },
              { x: moment("2021-06-01"), y: 820000000 },
              { x: moment("2021-07-01"), y: 2050000000 },
              { x: moment("2021-08-01"), y: 2000000000 },
              { x: moment("2021-09-01"), y: 1585000000 },
              { x: moment("2021-10-01"), y: 2730000000 },
              { x: moment("2021-11-01"), y: 2670000000 },
              { x: moment("2021-12-01"), y: 2670000000 },
            ],
            backgroundColor: "rgb(255, 99, 132)",
            label: "실거래가",
          },
          {
            type: "line",
            interaction: {
              intersect: false,
              axis: "x",
            },
            data: [
              { x: moment("2020-01-02"), y: 2340000000 },
              { x: moment("2020-02-01"), y: 2340000000 },
              { x: moment("2020-03-01"), y: 2700000000 },
              { x: moment("2020-04-01"), y: 2700000000 },
              { x: moment("2020-05-01"), y: 1400000000 },
              { x: moment("2020-06-01"), y: 2000000000 },
              { x: moment("2020-07-01"), y: 2000000000 },
              { x: moment("2020-08-01"), y: 2000000000 },
              { x: moment("2020-09-01"), y: 2000000000 },
              { x: moment("2020-10-01"), y: 2800000000 },
              { x: moment("2020-11-01"), y: 2800000000 },
              { x: moment("2020-12-01"), y: 2800000000 },
              { x: moment("2021-01-01"), y: 810000000 },
              { x: moment("2021-02-01"), y: 630000000 },
              { x: moment("2021-03-01"), y: 730000000 },
              { x: moment("2021-04-01"), y: 730000000 },
              { x: moment("2021-05-01"), y: 710000000 },
              { x: moment("2021-06-01"), y: 650000000 },
              { x: moment("2021-07-01"), y: 1880000000 },
              { x: moment("2021-08-01"), y: 1830000000 },
              { x: moment("2021-09-01"), y: 1415000000 },
              { x: moment("2021-10-01"), y: 2560000000 },
              { x: moment("2021-11-01"), y: 2500000000 },
              { x: moment("2021-12-01"), y: 2500000000 },
            ],
            fill: false,
            stepped: true,
            borderColor: "blue",
            label: "A업체 하한가",
          },
          {
            type: "line",
            interaction: {
              intersect: false,
              axis: "x",
            },
            data: [
              { x: moment("2020-01-02"), y: 2000000000 },
              { x: moment("2020-02-01"), y: 2000000000 },
              { x: moment("2020-03-01"), y: 2950000000 },
              { x: moment("2020-04-01"), y: 2950000000 },
              { x: moment("2020-05-01"), y: 1800000000 },
              { x: moment("2020-06-01"), y: 2300000000 },
              { x: moment("2020-07-01"), y: 2300000000 },
              { x: moment("2020-08-01"), y: 2300000000 },
              { x: moment("2020-09-01"), y: 2300000000 },
              { x: moment("2020-10-01"), y: 3000000000 },
              { x: moment("2020-11-01"), y: 3000000000 },
              { x: moment("2020-12-01"), y: 3000000000 },
              { x: moment("2021-01-01"), y: 1055000000 },
              { x: moment("2021-02-01"), y: 875000000 },
              { x: moment("2021-03-01"), y: 975000000 },
              { x: moment("2021-04-01"), y: 975000000 },
              { x: moment("2021-05-01"), y: 955000000 },
              { x: moment("2021-06-01"), y: 895000000 },
              { x: moment("2021-07-01"), y: 2125000000 },
              { x: moment("2021-08-01"), y: 2075000000 },
              { x: moment("2021-09-01"), y: 1660000000 },
              { x: moment("2021-10-01"), y: 2805000000 },
              { x: moment("2021-11-01"), y: 2745000000 },
              { x: moment("2021-12-01"), y: 2745000000 },
            ],
            fill: false,
            stepped: true,
            borderColor: "lightblue",
            label: "A업체 상한가",
          },
        ],
      };

      const config = {
        data: data,
        options: {
          responsive: true,
          plugins: {
            title: {
              display: true,
            },
            tooltip: {
              mode: "index",
              intersect: false,
              callbacks: {
                label: function (context) {
                  return context.dataset.label + ": " + context.parsed.y;
                },
              },
            },
          },
          scales: {
            x: {
              type: "time",
              time: {
                unit: "year",
              },
            },
            y: {
              type: "linear",
              min: 620000000,
              max: 3100000000,
              ticks: {
                callback: function (value, index, values) {
                  return value / 100000000 + "억";
                },
              },
            },
          },
        },
      };

      new Chart(ctx, config);
    </script>
  </body>
</html>
